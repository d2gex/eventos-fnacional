(function(){"use strict";var e={7446:function(e,o,a){a(8052);var t=a(4161);const r={min_2:"Mínima longitud: 2 caracteres",required_with_name:function(e){return e+" es obligatorio"}},s={apiServerUrl:"http://torerostoledo.com/api",selectedProvincia:45,selectedGanaderia:0,selectedTipoTorero:1,selectedToreroPremio:1,selectedToreroEstado:0,maxNumInstances:6,capitalizeWords:function(e){return e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")},sendDataToBackend:async function(e,o){try{const a=this.apiServerUrl+o;return await t.Z.post(a,e)}catch(a){console.error(a)}},getDataFromTable:async function(e){try{const o=await t.Z.get(e);return o}catch(o){console.error(o)}},deepCloneObject(e){return JSON.parse(JSON.stringify(e))}};var i=a(1397),l=a(7729),n=a(9511),d=a(1020),c=a(9242),m=a(3396);const u={class:"container"};function p(e,o){const a=(0,m.up)("router-view");return(0,m.wg)(),(0,m.iD)("div",u,[(0,m.Wm)(a)])}var w=a(89);const f={},h=(0,w.Z)(f,[["render",p]]);var _=h,b=a(2483);const v={key:0,class:"container h-100"},g={class:"d-flex justify-content-md-center align-items-center vh-100"},y={key:1,class:"container"},R={class:"row"},D={class:"row"},F={class:"col-md-8"},S={class:"col-md-4"},T={class:"row"},j={class:"col-md-12"},x={class:"row"},W={class:"row"},V={class:"col-md-12"},N={class:"row"},U={class:"col-md-12"},P={class:"row"},k={class:"col-md-12"},A={class:"row"},I={class:"col-md-12"};function C(e,o,a,t,r,s){const i=(0,m.up)("ProgressSpinner"),l=(0,m.up)("ToreroForm"),n=(0,m.up)("GanaderiaForm"),d=(0,m.up)("TabPanel"),c=(0,m.up)("FestejosForm"),u=(0,m.up)("TabView"),p=(0,m.up)("OldDbTable"),w=(0,m.up)("NewDbTable"),f=(0,m.up)("GanaderiasTable"),h=(0,m.up)("TorerosTable");return r.fetchingData?((0,m.wg)(),(0,m.iD)("div",v,[(0,m._)("div",g,[(0,m.Wm)(i)])])):((0,m.wg)(),(0,m.iD)("div",y,[(0,m._)("div",R,[(0,m.Wm)(u,null,{default:(0,m.w5)((()=>[(0,m.Wm)(d,{header:"Toreros Y Ganaderías"},{default:(0,m.w5)((()=>[(0,m._)("div",D,[(0,m._)("div",F,[(0,m.Wm)(l)]),(0,m._)("div",S,[(0,m.Wm)(n)])])])),_:1}),(0,m.Wm)(d,{header:"Festejos"},{default:(0,m.w5)((()=>[(0,m._)("div",T,[(0,m._)("div",j,[(0,m.Wm)(c,{"selected-festejo":r.selectedFestejo,"tipo-festejos":r.tipoFestejos,"selected-poblacion":r.selectedPoblacion,poblaciones:r.poblaciones},null,8,["selected-festejo","tipo-festejos","selected-poblacion","poblaciones"])])])])),_:1})])),_:1})]),(0,m._)("div",x,[(0,m.Wm)(u,{class:"mt-4"},{default:(0,m.w5)((()=>[(0,m.Wm)(d,{header:"Datos Originales"},{default:(0,m.w5)((()=>[(0,m._)("div",W,[(0,m._)("div",V,[(0,m.Wm)(p)])])])),_:1}),(0,m.Wm)(d,{header:"Nueva Base de Datos"},{default:(0,m.w5)((()=>[(0,m._)("div",N,[(0,m._)("div",U,[(0,m.Wm)(w)])])])),_:1}),(0,m.Wm)(d,{header:"Ganaderías"},{default:(0,m.w5)((()=>[(0,m._)("div",P,[(0,m._)("div",k,[(0,m.Wm)(f)])])])),_:1}),(0,m.Wm)(d,{header:"Toreros"},{default:(0,m.w5)((()=>[(0,m._)("div",A,[(0,m._)("div",I,[(0,m.Wm)(h)])])])),_:1})])),_:1})])]))}a(7658);var Z=a(7139);const O={class:"form-group border p-3"},$={class:"row"},q={class:"card mt-2 mx-auto p-2 bg-light"},B={class:"text-center"},E={class:"card-body bg-light"},G={class:"container"},M={class:"controls"},H={class:"row"},z={class:"col-md-6"},Y={class:"form-group"},K=["for"],L=(0,m._)("span",{class:"field_required"},"*",-1),X={class:"field-error"},J={class:"col-md-6"},Q={class:"form-group"},ee=["for"],oe=(0,m._)("span",{class:"field_required"},"*",-1),ae={class:"field-error"},te={class:"row"},re={class:"col-md-6"},se={class:"form-group"},ie=["for"],le={class:"field-error"},ne={class:"col-md-6"},de={class:"form-group"},ce=["for"],me=(0,m._)("span",{class:"field_required"},"*",-1),ue=["value"],pe={class:"row"},we={class:"col-lg-12 mx-auto my-3 text-center"},fe=["onClick"],he=["onClick"],_e=["onClick"];function be(e,o,a,t,r,s){const i=(0,m.up)("Field"),l=(0,m.up)("ErrorMessage"),n=(0,m.up)("FieldArray"),d=(0,m.up)("Form");return(0,m.wg)(),(0,m.iD)("fieldset",O,[(0,m.Wm)(d,{"initial-values":r.toreroStore.initialData,"validation-schema":r.schema},{default:(0,m.w5)((({handleSubmit:e})=>[(0,m._)("form",{onSubmit:o[0]||(o[0]=(0,c.iM)((()=>{}),["prevent"]))},[(0,m.Wm)(n,{name:"toreroRow"},{default:(0,m.w5)((({fields:o,push:a,remove:t})=>[(0,m._)("div",$,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-lg-6 float-left",key:e.key},[(0,m._)("div",q,[(0,m._)("h4",B,"Torero "+(0,Z.zw)(o+1),1),(0,m._)("div",E,[(0,m._)("div",G,[(0,m._)("div",M,[(0,m._)("div",H,[(0,m._)("div",z,[(0,m._)("div",Y,[(0,m.Wm)(i,{type:"hidden",id:`toreroRow[${o}].id_id`,name:`toreroRow[${o}].id`,modelValue:r.toreroStore.rows[o].id,"onUpdate:modelValue":e=>r.toreroStore.rows[o].id=e},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("label",{for:`toreroRow[${o}].nombre_id`},[(0,m.Uk)("Nombre "),L],8,K),(0,m.Wm)(i,{id:`toreroRow[${o}].nombre_id`,type:"text",name:`toreroRow[${o}].nombre`,modelValue:r.toreroStore.rows[o].nombre,"onUpdate:modelValue":e=>r.toreroStore.rows[o].nombre=e,class:"form-control",placeholder:"Entra el nombre *"},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("div",X,[(0,m.Wm)(l,{as:"div",name:`toreroRow[${o}].nombre`},null,8,["name"])])])]),(0,m._)("div",J,[(0,m._)("div",Q,[(0,m._)("label",{for:`toreroRow[${o}].apellidos_id`},[(0,m.Uk)("Apellidos "),oe],8,ee),(0,m.Wm)(i,{id:`toreroRow[${o}].apellidos_id`,type:"text",name:`toreroRow[${o}].apellidos`,modelValue:r.toreroStore.rows[o].apellidos,"onUpdate:modelValue":e=>r.toreroStore.rows[o].apellidos=e,class:"form-control",placeholder:"Entra los apellidos *"},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("div",ae,[(0,m.Wm)(l,{name:`toreroRow[${o}].apellidos`},null,8,["name"])])])])]),(0,m._)("div",te,[(0,m._)("div",re,[(0,m._)("div",se,[(0,m._)("label",{for:`toreroRow[${o}].apodo_id`},"Apodo ",8,ie),(0,m.Wm)(i,{id:`toreroRow[${o}].apodo_id`,type:"text",name:`toreroRow[${o}].apodo`,modelValue:r.toreroStore.rows[o].apodo,"onUpdate:modelValue":e=>r.toreroStore.rows[o].apodo=e,class:"form-control",placeholder:"Entra el apodo"},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("div",le,[(0,m.Wm)(l,{name:`toreroRow[${o}].apodo`},null,8,["name"])])])]),(0,m._)("div",ne,[(0,m._)("div",de,[(0,m._)("label",{for:`toreroRow[${o}].tipo_torero_id_id`},[(0,m.Uk)("Tipo de Torero "),me],8,ce),(0,m.Wm)(i,{id:`toreroRow[${o}].tipo_torero_id_id`,name:`toreroRow[${o}].tipo_torero_id`,modelValue:r.toreroStore.rows[o].tipo_torero_id,"onUpdate:modelValue":e=>r.toreroStore.rows[o].tipo_torero_id=e,as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.dataDeposit.tipoToreros.data,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.tipo_torero),9,ue)))),128))])),_:2},1032,["id","name","modelValue","onUpdate:modelValue"])])])])])])])])])))),128))]),(0,m._)("div",pe,[(0,m._)("div",we,[(0,m._)("button",{type:"button",onClick:e=>s.addToreroRow(a,o),class:"btn btn-success"},"Añadir + ",8,fe),(0,m._)("button",{type:"button",onClick:e=>s.removeToreroRow(t,o),class:"btn btn-danger mx-2"}," Borrar - ",8,he),(0,m._)("button",{onClick:r=>e((e=>{s.onSubmit(e,a,t,o)})),class:"btn btn-primary"},"Guardar ",8,_e)])])])),_:2},1024)],32)])),_:1},8,["initial-values","validation-schema"])])}var ve=a(5708),ge=a(7629),ye=a(4870);const Re=(0,d.Q_)("dataDepositStore",{state:()=>({provincias:(0,ye.Um)({data:[]}),tipoToreros:(0,ye.Um)({data:[]}),tipoFestejos:[],toreroItems:(0,ye.Um)({data:[]}),ganaderiaItems:(0,ye.Um)({data:[]}),premioToreroItems:(0,ye.Um)({data:[]}),estadoToreroItems:(0,ye.Um)({data:[]}),poblaciones:[],newDbData:(0,ye.Um)({data:[]}),oldDbData:(0,ye.Um)({data:[]})}),actions:{async fetchAndStoreProvincias(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_provincias");this.provincias.data=e.data},async fetchAndTipoToreros(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_tipo_toreros");this.tipoToreros.data=e.data},async getTipoFestejos(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_tipo_festejos");this.tipoFestejos=e.data},async fetchAndStoreToreros(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_toreros");this.toreroItems.data=e.data},async fetchAndStoreGanaderias(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_ganaderias");this.ganaderiaItems.data=e.data},async fetchAndStoreTipoPremios(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_tipo_premios");this.premioToreroItems.data=e.data},async fetchAndStoreTipoEstados(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_tipo_estados");this.estadoToreroItems.data=e.data},async getPoblaciones(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_poblaciones");this.poblaciones=e.data},async fetchAndStoreNewDbData(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_db_all_records");this.newDbData.data=e.data},async fetchAndStoreOldDbData(){const e=await s.getDataFromTable(s.apiServerUrl+"/get_old_db_all_records");this.oldDbData.data=e.data}}}),De={id:null,nombre:"",apellidos:"",apodo:"",nombre_profesional:"",tipo_torero_id:s.selectedTipoTorero},Fe=(0,d.Q_)("toreroStore",{state:()=>({rows:new Array(s.maxNumInstances).fill(0).map((()=>({...De}))),initialData:{toreroRow:[{...De}]}}),actions:{resetToreroRowFields(){this.rows=new Array(s.maxNumInstances).fill(0).map((()=>({...De}))),this.initialData.ganaderiaRow={...De}}}});var Se={name:"ToreroForm",components:{Form:ve.l0,Field:ve.gN,FieldArray:ve.F2,ErrorMessage:ve.Bc},data(){const e=Re(),o=Fe(),a=(0,ye.Xl)((0,ge.Ry)().shape({toreroRow:(0,ge.IX)().of((0,ge.Ry)().shape({nombre:(0,ge.Z_)().required(r.required_with_name("El nombre")).min(2,r.min_2),apellidos:(0,ge.Z_)().required(r.required_with_name("Los apellidos")).min(2,r.min_2),apodo:(0,ge.Z_)().matches(/.{2,}/,{excludeEmptyString:!0,message:r.min_2})})).strict()}));return{dataDeposit:e,toreroStore:o,schema:a}},methods:{addToreroRow(e,o){o.length<s.maxNumInstances&&e({...De})},removeToreroRow(e,o){if(o.length>1){const a=o[o.length-1].key;e(a)}},resetForm(e,o,a){for(let t=a.length-1;t>=0;t--)o(a[t]);this.toreroStore.resetToreroRowFields(),e({...De})},async onSubmit(e,o,a,t){console.log(JSON.stringify(e,null,2));const{data:r}=await s.sendDataToBackend(e,"/save_torero_details");0===r.status?await this.$vueAlert.alert(r.message,"Error en la operación","error"):(await this.dataDeposit.fetchAndStoreToreros(),this.resetForm(o,a,t),await this.$vueAlert.alert("Los nuevos toreros han sido guardados","Operación satisfactoria","success")),console.log(JSON.stringify(r,null,2))}}};const Te=(0,w.Z)(Se,[["render",be]]);var je=Te;const xe={class:"form-group border p-3"},We={class:"row"},Ve={class:"card mt-2 mx-auto p-2 bg-light"},Ne={class:"text-center"},Ue={class:"card-body bg-light"},Pe={class:"container"},ke={class:"controls"},Ae={class:"row"},Ie={class:"col-md-12"},Ce={class:"form-group"},Ze=["for"],Oe=(0,m._)("span",{class:"field_required"},"*",-1),$e={class:"field-error"},qe={class:"col-md-6"},Be={class:"form-group"},Ee=["for"],Ge=(0,m._)("span",{class:"field_required"},"*",-1),Me=["value"],He={class:"row"},ze={class:"col-lg-12 mx-auto my-3 text-center"},Ye=["onClick"],Ke=["onClick"],Le=["onClick"];function Xe(e,o,a,t,r,s){const i=(0,m.up)("Field"),l=(0,m.up)("ErrorMessage"),n=(0,m.up)("FieldArray"),d=(0,m.up)("Form");return(0,m.wg)(),(0,m.iD)("fieldset",xe,[(0,m.Wm)(d,{"initial-values":r.ganaderiaStore.initialData,"validation-schema":r.schema},{default:(0,m.w5)((({handleSubmit:e})=>[(0,m._)("form",{onSubmit:o[0]||(o[0]=(0,c.iM)((()=>{}),["prevent"]))},[(0,m.Wm)(n,{name:"ganaderiaRow"},{default:(0,m.w5)((({fields:o,push:a,remove:t})=>[(0,m._)("div",We,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-lg-12",key:e.key},[(0,m._)("div",Ve,[(0,m._)("h4",Ne,"Ganadería "+(0,Z.zw)(o+1),1),(0,m._)("div",Ue,[(0,m._)("div",Pe,[(0,m._)("div",ke,[(0,m._)("div",Ae,[(0,m._)("div",Ie,[(0,m._)("div",Ce,[(0,m.Wm)(i,{type:"hidden",id:`ganaderiaRow[${o}].id_id`,name:`ganaderiaRow[${o}].id`,modelValue:r.ganaderiaStore.rows[o].id,"onUpdate:modelValue":e=>r.ganaderiaStore.rows[o].id=e},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("label",{for:`ganaderiaRow[${o}].nombre_ganaderia_id`},[(0,m.Uk)("Nombre "),Oe],8,Ze),(0,m.Wm)(i,{id:`ganaderiaRow[${o}].nombre_ganaderia_id`,type:"text",name:`ganaderiaRow[${o}].nombre_ganaderia`,modelValue:r.ganaderiaStore.rows[o].nombre_ganaderia,"onUpdate:modelValue":e=>r.ganaderiaStore.rows[o].nombre_ganaderia=e,class:"form-control",placeholder:"Entra el nombre *"},null,8,["id","name","modelValue","onUpdate:modelValue"]),(0,m._)("div",$e,[(0,m.Wm)(l,{as:"div",name:`ganaderiaRow[${o}].nombre_ganaderia`},null,8,["name"])])])]),(0,m._)("div",qe,[(0,m._)("div",Be,[(0,m._)("label",{for:`ganaderiaRow[${o}].provincia_id_id`},[(0,m.Uk)("Provincia "),Ge],8,Ee),(0,m.Wm)(i,{id:`ganaderiaRow[${o}].provincia_id_id`,name:`ganaderiaRow[${o}].provincia_id`,modelValue:r.ganaderiaStore.rows[o].provincia_id,"onUpdate:modelValue":e=>r.ganaderiaStore.rows[o].provincia_id=e,as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.dataDeposit.provincias.data,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.provincia),9,Me)))),128))])),_:2},1032,["id","name","modelValue","onUpdate:modelValue"])])])])])])])])])))),128))]),(0,m._)("div",He,[(0,m._)("div",ze,[(0,m._)("button",{type:"button",onClick:e=>s.addGanaderiaRow(a,o),class:"btn btn-success"},"Añadir + ",8,Ye),(0,m._)("button",{type:"button",onClick:e=>s.removeGanaderiaRow(t,o),class:"btn btn-danger mx-2"}," Borrar - ",8,Ke),(0,m._)("button",{onClick:r=>e((e=>{s.onSubmit(e,a,t,o)})),class:"btn btn-primary"},"Guardar ",8,Le)])])])),_:2},1024)],32)])),_:1},8,["initial-values","validation-schema"])])}const Je={id:null,nombre_ganaderia:"",provincia_id:s.selectedProvincia},Qe=(0,d.Q_)("ganaderiaStore",{state:()=>({rows:new Array(s.maxNumInstances).fill(0).map((()=>({...Je}))),initialData:{ganaderiaRow:[{...Je}]}}),actions:{resetGanaderiaRowFields(){this.rows=new Array(s.maxNumInstances).fill(0).map((()=>({...Je}))),this.initialData.ganaderiaRow={...Je}}}});var eo={name:"GanaderiaForm",components:{Form:ve.l0,Field:ve.gN,FieldArray:ve.F2,ErrorMessage:ve.Bc},data(){const e=Qe(),o=Re(),a=(0,ye.Xl)((0,ge.Ry)().shape({ganaderiaRow:(0,ge.IX)().of((0,ge.Ry)().shape({nombre_ganaderia:(0,ge.Z_)().required(r.required_with_name("El nombre")).min(2,r.min_2)})).strict()}));return{ganaderiaStore:e,dataDeposit:o,schema:a}},methods:{addGanaderiaRow(e,o){o.length<s.maxNumInstances&&e({...Je})},removeGanaderiaRow(e,o){if(o.length>1){const a=o[o.length-1].key;e(a)}},resetForm(e,o,a){for(let t=a.length-1;t>=0;t--)o(a[t]);this.ganaderiaStore.resetGanaderiaRowFields(),e({...Je})},async onSubmit(e,o,a,t){console.log(JSON.stringify(e,null,2));const{data:r}=await s.sendDataToBackend(e,"/save_ganaderia_details");0===r.status?await this.$vueAlert.alert(r.message,"Error en la operación","error"):(await this.dataDeposit.fetchAndStoreGanaderias(),this.resetForm(o,a,t),await this.$vueAlert.alert("Las nuevas ganaderias han sido guardadas","Operación satisfactoria","success")),console.log(JSON.stringify(r,null,2))}}};const oo=(0,w.Z)(eo,[["render",Xe]]);var ao=oo;const to={class:"row"},ro={class:"col-md-6"},so={class:"row"},io={class:"row"},lo={class:"col-md-6"},no=(0,m._)("div",{class:"row"},[(0,m._)("div",{class:"col-lg-8 mx-auto my-3 text-center"},[(0,m._)("button",{type:"submit",class:"btn btn-primary"},"Guardar Festejo")])],-1);function co(e,o,a,t,r,s){const i=(0,m.up)("FestejoDetalles"),l=(0,m.up)("FestejoGanaderias"),n=(0,m.up)("FestejoToreros"),d=(0,m.up)("Form");return(0,m.wg)(),(0,m.j4)(d,{onSubmit:s.onSubmit,"initial-values":r.initialData,"validation-schema":r.schema},{default:(0,m.w5)((()=>[(0,m._)("div",to,[(0,m._)("div",ro,[(0,m._)("div",so,[(0,m.Wm)(i,{"nombre-festejo":"festejos.nombre_festejo",celebracion:"festejos.fecha",poblacion:"festejos.poblacion_id",provincia:"festejos.provincia_id","tipo-festejo":"festejos.tipo_festejo_id","selected-festejo":a.selectedFestejo,"tipo-festejos":a.tipoFestejos,"selected-poblacion":a.selectedPoblacion,poblaciones:a.poblaciones},null,8,["selected-festejo","tipo-festejos","selected-poblacion","poblaciones"])]),(0,m._)("div",io,[(0,m.Wm)(l,{"reset-form-flag":r.resetFormFlag},null,8,["reset-form-flag"])])]),(0,m._)("div",lo,[(0,m.Wm)(n,{"reset-form-flag":r.resetFormFlag},null,8,["reset-form-flag"])])]),no])),_:1},8,["onSubmit","initial-values","validation-schema"])}const mo={class:"card mt-2 mx-auto p-2 bg-light"},uo=(0,m._)("h4",{class:"text-center"},"Detalles del Festejo",-1),po={class:"card-body bg-light"},wo={class:"container"},fo={class:"controls"},ho={class:"row"},_o={class:"col-md-6"},bo={class:"form-group"},vo=(0,m._)("label",{for:"nombreFestejo"},[(0,m.Uk)("Nombre "),(0,m._)("span",{class:"field_required"},"*")],-1),go={class:"col-md-6"},yo={class:"form-group"},Ro=(0,m._)("label",{for:"poblacion"},[(0,m.Uk)("Población "),(0,m._)("span",{class:"field_required"},"*")],-1),Do=["value"],Fo={class:"row"},So={class:"col-md-6"},To={class:"form-group"},jo=(0,m._)("label",{for:"provincia"},[(0,m.Uk)("Provincia "),(0,m._)("span",{class:"field_required"},"*")],-1),xo=["value"],Wo={class:"col-md-6"},Vo={class:"form-group"},No=["for"],Uo=(0,m._)("span",{class:"field_required"},"*",-1),Po=["value"],ko={class:"row"},Ao={class:"col-md-6"},Io={class:"form-group"},Co=["for"],Zo=(0,m._)("span",{class:"field_required"},"*",-1);function Oo(e,o,a,t,r,s){const i=(0,m.up)("InputForm"),l=(0,m.up)("Field"),n=(0,m.up)("VueDatePicker"),d=(0,m.up)("ErrorMessage");return(0,m.wg)(),(0,m.iD)("div",mo,[uo,(0,m._)("div",po,[(0,m._)("div",wo,[(0,m._)("div",fo,[(0,m._)("div",ho,[(0,m._)("div",_o,[(0,m._)("div",bo,[vo,(0,m.Wm)(i,{type:"text",id:a.nombreFestejo+"_id",name:a.nombreFestejo,placeholder:"Entra el festejo *"},null,8,["id","name"])])]),(0,m._)("div",go,[(0,m._)("div",yo,[Ro,(0,m.Wm)(l,{id:a.poblacion+"_id",name:a.poblacion,modelValue:r.selectBox.selectedPoblacion,"onUpdate:modelValue":o[0]||(o[0]=e=>r.selectBox.selectedPoblacion=e),as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.selectBox.poblaciones,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.ciudad),9,Do)))),128))])),_:1},8,["id","name","modelValue"])])])]),(0,m._)("div",Fo,[(0,m._)("div",So,[(0,m._)("div",To,[jo,(0,m.Wm)(l,{id:a.provincia+"_id",name:a.provincia,modelValue:r.selectedProvincia,"onUpdate:modelValue":o[1]||(o[1]=e=>r.selectedProvincia=e),as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.dataDeposit.provincias.data,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.provincia),9,xo)))),128))])),_:1},8,["id","name","modelValue"])])]),(0,m._)("div",Wo,[(0,m._)("div",Vo,[(0,m._)("label",{for:a.tipoFestejo},[(0,m.Uk)("Tipo de Festejo "),Uo],8,No),(0,m.Wm)(l,{id:a.tipoFestejo+"_id",name:a.tipoFestejo,modelValue:r.selectBox.selectedFestejo,"onUpdate:modelValue":o[2]||(o[2]=e=>r.selectBox.selectedFestejo=e),as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.selectBox.tipoFestejos,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.tipo_festejo),9,Po)))),128))])),_:1},8,["id","name","modelValue"])])])]),(0,m._)("div",ko,[(0,m._)("div",Ao,[(0,m._)("div",Io,[(0,m._)("label",{for:a.celebracion+"_id"},[(0,m.Uk)("Fecha del Festejo "),Zo],8,Co),(0,m.Wm)(n,{id:a.celebracion+"_id","model-type":"dd/MM/yyyy",modelValue:r.dateFestejoValue,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dateFestejoValue=e),format:"dd/MM/yyyy","year-range":[1600,2100],"enable-time-picker":!1},null,8,["id","modelValue"]),(0,m.Wm)(d,{as:"div",class:"field-error",name:a.celebracion},null,8,["name"]),(0,m.Wm)(l,{name:a.celebracion,type:"hidden",modelValue:r.dateFestejoValue,"onUpdate:modelValue":o[4]||(o[4]=e=>r.dateFestejoValue=e)},null,8,["name","modelValue"])])])])])])])])}function $o(e,o,a,t,r,s){const i=(0,m.up)("Field"),l=(0,m.up)("ErrorMessage");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m.Wm)(i,{id:a.id,type:a.type,name:a.name,placeholder:a.placeholder,class:"form-control"},null,8,["id","type","name","placeholder"]),(0,m.Wm)(l,{as:"div",class:"field-error",name:a.name},null,8,["name"])],64)}var qo={name:"InputForm",props:{name:String,id:String,placeholder:String,type:String},components:{Field:ve.gN,ErrorMessage:ve.Bc}};const Bo=(0,w.Z)(qo,[["render",$o]]);var Eo=Bo,Go=a(6725),Mo={name:"FestejoDetalles",components:{InputForm:Eo,Field:ve.gN,ErrorMessage:ve.Bc,VueDatePicker:Go.Z},props:{nombreFestejo:String,poblacion:String,provincia:String,tipoFestejo:String,celebracion:String,selectedFestejo:{type:Number,required:!0},tipoFestejos:{type:Array,required:!0},selectedPoblacion:{type:Number,required:!0},poblaciones:{type:Array,required:!0}},data(){const e=Re(),o=(new Date).toLocaleDateString(),a={selectedFestejo:"",selectedPoblacion:"",poblaciones:[],tipoFestejos:[]},t=s.selectedProvincia;return{dataDeposit:e,dateFestejoValue:o,selectBox:a,selectedProvincia:t}},methods:{updateSelectBox(e,o,a){this.selectBox[o]=this[o],this.selectBox[a]=this.selectBox[o][this[a]].id}},watch:{tipoFestejos(e){this.updateSelectBox(e,"tipoFestejos","selectedFestejo")},poblaciones(e){this.updateSelectBox(e,"poblaciones","selectedPoblacion")}},mounted(){this.tipoFestejos.length&&this.updateSelectBox(this.tipoFestejos,"tipoFestejos","selectedFestejo"),this.tipoFestejos.length&&this.updateSelectBox(this.tipoFestejos,"poblaciones","selectedPoblacion")}};const Ho=(0,w.Z)(Mo,[["render",Oo]]);var zo=Ho;const Yo={class:"row"},Ko={class:"card mt-2 mx-auto p-2 bg-light"},Lo={class:"text-center"},Xo={class:"card-body bg-light"},Jo={class:"container"},Qo={class:"controls"},ea={class:"row"},oa={class:"col-md-12"},aa={class:"form-group"},ta=["for"],ra=(0,m._)("span",{class:"field_required"},"*",-1),sa={class:"row"},ia={class:"row"},la={class:"row"},na={class:"col-lg-8 mx-auto my-3 text-center"};function da(e,o,a,t,r,s){const i=(0,m.up)("SearchDropdownBox"),l=(0,m.up)("PremiosTorero"),n=(0,m.up)("FestejoToreroEstados");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m._)("div",Yo,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.numRows,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-md-12",key:o},[(0,m._)("div",Ko,[(0,m._)("h4",Lo,"Torero y Premios "+(0,Z.zw)(o+1),1),(0,m._)("div",Xo,[(0,m._)("div",Jo,[(0,m._)("div",Qo,[(0,m._)("div",ea,[(0,m._)("div",oa,[(0,m._)("div",aa,[(0,m._)("label",{for:`toreroName_${o}`},[(0,m.Uk)("Torero "),ra],8,ta),(0,m.Wm)(i,{"input-object":r.festejoStore.toreros.rows[o],items:r.dataDeposit.toreroItems.data,"field-name":`toreroRow[${o}].toreroName`,"place-holder":"Selecciona un torero","option-label":"nombre_profesional"},null,8,["input-object","items","field-name"])])])]),(0,m._)("div",sa,[(0,m.Wm)(l,{"torero-num-row":o,"field-name":`toreroRow[${o}].premios`,"reset-form-flag":a.resetFormFlag},null,8,["torero-num-row","field-name","reset-form-flag"])]),(0,m._)("div",ia,[(0,m.Wm)(n,{items:r.dataDeposit.estadoToreroItems.data,"torero-num-row":o,"field-name":`toreroRow[${o}].estados`,"reset-form-flag":a.resetFormFlag,"input-object":r.festejoStore.toreros.rows[o],"place-holder":"Selecciona un estado","option-label":"tipo_estado"},null,8,["items","torero-num-row","field-name","reset-form-flag","input-object"])])])])])])])))),128))]),(0,m._)("div",la,[(0,m._)("div",na,[(0,m._)("button",{type:"button",onClick:o[0]||(o[0]=(...e)=>s.addToreroPremioRow&&s.addToreroPremioRow(...e)),class:"btn btn-success"},"Añadir Torero + "),(0,m._)("button",{type:"button",onClick:o[1]||(o[1]=(...e)=>s.removeToreroPremioRow&&s.removeToreroPremioRow(...e)),class:"btn btn-danger mx-2"}," Borrar Torero - ")])])],64)}const ca={key:0,class:"flex align-items-center"},ma={key:1},ua={class:"flex align-items-center"},pa={class:"p-error",id:"dd-error"};function wa(e,o,a,t,r,s){const i=(0,m.up)("Dropdown");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m.Wm)(i,{modelValue:r.storeData.data,"onUpdate:modelValue":o[0]||(o[0]=e=>r.storeData.data=e),options:r.dataItems,placeholder:a.placeHolder,"option-label":a.optionLabel,filter:"","show-clear":"",class:"form-control"},{value:(0,m.w5)((e=>[e.value?((0,m.wg)(),(0,m.iD)("div",ca,[(0,m._)("div",null,(0,Z.zw)(e.value[a.optionLabel]),1)])):((0,m.wg)(),(0,m.iD)("span",ma,(0,Z.zw)(e.placeholder),1))])),option:(0,m.w5)((e=>[(0,m._)("div",ua,[(0,m._)("div",null,(0,Z.zw)(e.option[a.optionLabel]),1)])])),_:1},8,["modelValue","options","placeholder","option-label"]),(0,m._)("small",pa,(0,Z.zw)(r.errorMessage||" "),1)],64)}var fa=a(5517),ha={name:"SearchDropdownBox",props:{fieldName:{type:String,required:!0},inputObject:{type:Object,required:!0},items:{type:Array,required:!0},placeHolder:{type:String,required:!0},optionLabel:{type:String,required:!0}},components:{Dropdown:fa.Z},data(){const e=[],{value:o,errorMessage:a}=(0,ve.U$)(this.fieldName),t=this.inputObject;return{dataItems:e,value:o,errorMessage:a,storeData:t}},methods:{updateItems(e){this.dataItems=e}},watch:{items(e){this.updateItems(e)},"inputObject.data":function(e){this.storeData=this.inputObject},"storeData.data":function(e){this.value=e}},mounted(){this.items.length&&this.updateItems(this.items)}};const _a=(0,w.Z)(ha,[["render",wa]]);var ba=_a;const va={class:"row"},ga={class:"form-group"},ya=["for"],Ra=(0,m._)("span",{class:"field_required"},"*",-1),Da=["value"],Fa={class:"row"},Sa={class:"col-md-12"},Ta={class:"form-group mt-4"};function ja(e,o,a,t,r,s){const i=(0,m.up)("Field");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m._)("div",va,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.numRows,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-md-4",key:a.toreroNumRow.toString()+"_"+o},[(0,m._)("div",ga,[(0,m._)("label",{for:`${a.fieldName}[${o}]_id`},[(0,m.Uk)("Premio Faena "+(0,Z.zw)(o+1),1),Ra],8,ya),(0,m.Wm)(i,{id:`${a.fieldName}[${o}]_id`,name:`${a.fieldName}[${o}]`,modelValue:r.festejoStore.toreros.rows[a.toreroNumRow].premios[o],"onUpdate:modelValue":e=>r.festejoStore.toreros.rows[a.toreroNumRow].premios[o]=e,as:"select",class:"form-select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.dataDeposit.premioToreroItems.data,(e=>((0,m.wg)(),(0,m.iD)("option",{key:e.id,value:e.id},(0,Z.zw)(e.tipo_premio),9,Da)))),128))])),_:2},1032,["id","name","modelValue","onUpdate:modelValue"])])])))),128))]),(0,m._)("div",Fa,[(0,m._)("div",Sa,[(0,m._)("div",Ta,[(0,m._)("button",{type:"button",onClick:o[0]||(o[0]=e=>s.addPremioRow()),class:"btn btn-success"},"+ "),(0,m._)("button",{type:"button",onClick:o[1]||(o[1]=e=>s.removePremioRow()),class:"btn btn-danger mx-2"},"- ")])])])],64)}const xa={id:null,data:null,premios:[s.selectedToreroPremio],estados:[null]},Wa={data:void 0},Va=(0,d.Q_)("festejoStore",{state:()=>({toreros:{rows:new Array(s.maxNumInstances).fill(0).map((()=>s.deepCloneObject(xa)))},ganaderias:{rows:new Array(s.maxNumInstances).fill(0).map((()=>({...Wa})))}}),actions:{resetToreros(){this.toreros.rows=new Array(s.maxNumInstances).fill(0).map((()=>s.deepCloneObject(xa)))},resetGanaderias(){this.ganaderias.rows=new Array(s.maxNumInstances).fill(0).map((()=>({...Wa})))}}});var Na={name:"FestejoToreroPremios",props:{toreroNumRow:{type:Number,required:!0},fieldName:{type:String,required:!0},resetFormFlag:{type:Boolean}},components:{Field:ve.gN},data(){const e=Re(),o=Va(),a=1;return{dataDeposit:e,festejoStore:o,numRows:a}},methods:{addPremioRow(){this.numRows<s.maxNumInstances&&(this.numRows++,this.festejoStore.toreros.rows[this.toreroNumRow].premios.push(s.selectedToreroPremio))},removePremioRow(){this.numRows>1&&(this.numRows--,this.festejoStore.toreros.rows[this.toreroNumRow].premios.pop())},resetForm(){this.numRows=1}},watch:{resetFormFlag(e){!0===e&&this.resetForm()}}};const Ua=(0,w.Z)(Na,[["render",ja]]);var Pa=Ua;const ka={class:"row mt-4"},Aa={class:"form-group"},Ia=["for"],Ca=(0,m._)("span",{class:"field_required"},"*",-1),Za={class:"p-error",id:"dd-error"},Oa={class:"row"},$a={class:"col-md-12"};function qa(e,o,a,t,r,s){const i=(0,m.up)("MultiSelect");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m._)("div",ka,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.numRows,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-md-4",key:a.toreroNumRow.toString()+"_"+o},[(0,m._)("div",Aa,[(0,m._)("label",{for:`${a.fieldName}[${o}]_id`},[(0,m.Uk)("Estado Faena "+(0,Z.zw)(o+1),1),Ca],8,Ia),(0,m.Wm)(i,{modelValue:r.storeData.estados[o],"onUpdate:modelValue":e=>r.storeData.estados[o]=e,options:a.items,maxSelectedLabels:2,"option-label":a.optionLabel,class:"form-control"},null,8,["modelValue","onUpdate:modelValue","options","option-label"]),(0,m._)("small",Za,(0,Z.zw)(r.errorMessage||" "),1)])])))),128))]),(0,m._)("div",Oa,[(0,m._)("div",$a,[(0,m._)("button",{type:"button",onClick:o[0]||(o[0]=e=>s.addPremioRow()),class:"btn btn-success"},"+ "),(0,m._)("button",{type:"button",onClick:o[1]||(o[1]=e=>s.removePremioRow()),class:"btn btn-danger mx-2"},"- ")])])],64)}var Ba=a(4376),Ea={name:"FestejoToreroEstados",props:{toreroNumRow:{type:Number,required:!0},fieldName:{type:String,required:!0},items:{type:Array,required:!0},placeHolder:{type:String,required:!0},optionLabel:{type:String,required:!0},inputObject:{type:Object,required:!0},resetFormFlag:{type:Boolean}},components:{MultiSelect:Ba.Z},data(){const e=1,{value:o,errorMessage:a}=(0,ve.U$)(this.fieldName),t={};return{numRows:e,value:o,errorMessage:a,storeData:t}},methods:{addPremioRow(){this.numRows<s.maxNumInstances&&(this.numRows++,this.storeData.estados.push([this.items[s.selectedToreroEstado]]))},removePremioRow(){this.numRows>1&&(this.numRows--,this.storeData.estados.pop())},resetForm(){this.numRows=1},initSelectedEstadoForRowZero(e,o){return null===e[o]?[[this.items[s.selectedToreroEstado]]]:e}},watch:{"inputObject.estados":function(e){this.storeData=this.inputObject,1===this.storeData.estados.length&&(this.storeData.estados=this.initSelectedEstadoForRowZero(this.storeData.estados,0))},"storeData.estados":{deep:!0,handler(e){this.value=e}},resetFormFlag(e){!0===e&&this.resetForm()}},beforeMount(){this.storeData=this.inputObject,1===this.storeData.estados.length&&(this.storeData.estados=this.initSelectedEstadoForRowZero(this.storeData.estados,0))}};const Ga=(0,w.Z)(Ea,[["render",qa]]);var Ma=Ga,Ha={name:"FestejoToreros",props:{resetFormFlag:{type:Boolean}},components:{SearchDropdownBox:ba,PremiosTorero:Pa,FestejoToreroEstados:Ma},data(){const e=Re(),o=Va(),a=1;return{dataDeposit:e,festejoStore:o,numRows:a}},methods:{addToreroPremioRow(){this.numRows<s.maxNumInstances&&this.numRows++},removeToreroPremioRow(){this.numRows>1&&this.numRows--},resetForm(){this.festejoStore.resetToreros(),this.numRows=1}},watch:{resetFormFlag(e){!0===e&&this.resetForm()}}};const za=(0,w.Z)(Ha,[["render",da]]);var Ya=za;const Ka={class:"card mt-2 mx-auto p-2 bg-light"},La=(0,m._)("h4",{class:"text-center"},"Ganaderías del Festejo",-1),Xa={class:"card-body bg-light"},Ja={class:"container"},Qa={class:"row"},et={class:"form-group"},ot=["for"],at=(0,m._)("span",{class:"field_required"},"*",-1),tt={class:"row"},rt={class:"col-md-12"},st={class:"form-group"};function it(e,o,a,t,r,s){const i=(0,m.up)("SearchDropdownBox");return(0,m.wg)(),(0,m.iD)("div",Ka,[La,(0,m._)("div",Xa,[(0,m._)("div",Ja,[(0,m._)("div",Qa,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.numRows,((e,o)=>((0,m.wg)(),(0,m.iD)("div",{class:"col-md-12",key:o},[(0,m._)("div",et,[(0,m._)("label",{for:`ganaderiaName_${o}`},[(0,m.Uk)("Ganaderia "),at],8,ot),(0,m.Wm)(i,{"input-object":r.festejoStore.ganaderias.rows[o],items:r.dataDeposit.ganaderiaItems.data,"field-name":`ganaderiaRow[${o}].ganaderiaName`,"place-holder":"Selecciona una ganaderia","option-label":"nombre_ganaderia"},null,8,["input-object","items","field-name"])])])))),128))]),(0,m._)("div",tt,[(0,m._)("div",rt,[(0,m._)("div",st,[(0,m._)("button",{type:"button",onClick:o[0]||(o[0]=(...e)=>s.addGanaderiaRow&&s.addGanaderiaRow(...e)),class:"btn btn-success"},"Añadir Ganadería + "),(0,m._)("button",{type:"button",onClick:o[1]||(o[1]=(...e)=>s.removeGanaderiaRow&&s.removeGanaderiaRow(...e)),class:"btn btn-danger mx-2"},"Borar Ganadería - ")])])])])])])}var lt={name:"FestejoGanaderias",components:{SearchDropdownBox:ba},props:{resetFormFlag:{type:Boolean}},data(){const e=Re(),o=Va(),a=1;return{dataDeposit:e,festejoStore:o,numRows:a}},methods:{addGanaderiaRow(){this.numRows<s.maxNumInstances&&this.numRows++},removeGanaderiaRow(){this.numRows>1&&this.numRows--},resetForm(){this.numRows=1,this.festejoStore.resetGanaderias()}},watch:{resetFormFlag(e){!0===e&&this.resetForm()}}};const nt=(0,w.Z)(lt,[["render",it]]);var dt=nt,ct={name:"FestejosForm",props:{selectedFestejo:{type:Number,required:!0},tipoFestejos:{type:Array,require:!0},selectedPoblacion:{type:Number,required:!0},poblaciones:{type:Array,required:!0}},components:{Form:ve.l0,FestejoDetalles:zo,FestejoToreros:Ya,FestejoGanaderias:dt},data(){const e={festejos:{nombre_festejo:"",fecha:"",poblacion_id:"",provincia_id:"",tipo_festejo_id:""}},o=!1,a=(0,ye.Xl)((0,ge.Ry)().shape({festejos:(0,ge.Ry)().shape({nombre_festejo:(0,ge.Z_)().required(r.required_with_name("El nombre")).min(2,r.min_2),fecha:(0,ge.Z_)().required(r.required_with_name("La fecha del festejo")).min(2,r.min_2)}),toreroRow:(0,ge.IX)().of((0,ge.Ry)().shape({toreroName:(0,ge.Ry)().required(r.required_with_name("El nombre"))})).strict(),ganaderiaRow:(0,ge.IX)().of((0,ge.Ry)().shape({ganaderiaName:(0,ge.Ry)().required(r.required_with_name("El nombre"))})).strict()}));return{initialData:e,resetFormFlag:o,schema:a}},methods:{resetForm(){this.resetFormFlag=!0},async onSubmit(e){console.log(JSON.stringify(e,null,2));const{data:o}=await s.sendDataToBackend(e,"/save_festejos");0===o.status?await this.$vueAlert.alert(o.message):(this.resetForm(),await this.$vueAlert.alert("El nuevo festejo ha sido guardado","Operación satisfactoria","success"),this.resetFormFlag=!1),console.log(JSON.stringify(o,null,2))}}};const mt=(0,w.Z)(ct,[["render",co]]);var ut=mt,pt=a(3781),wt=a(6849);const ft={class:"card"},ht={class:"flex justify-content-end"},_t={class:"p-input-icon-right"},bt=(0,m._)("i",{class:"pi pi-search"},null,-1),vt={class:"p-3"};function gt(e,o,a,t,r,s){const i=(0,m.up)("InputText"),l=(0,m.up)("Column"),n=(0,m.up)("DataTable"),d=(0,m.up)("Toast");return(0,m.wg)(),(0,m.iD)("div",ft,[(0,m.Wm)(n,{value:r.dataDeposit.oldDbData.data,paginator:"",rows:50,rowsPerPageOptions:[50,100,500],filters:r.filters,"onUpdate:filters":o[1]||(o[1]=e=>r.filters=e),expandedRows:r.expandedRows,"onUpdate:expandedRows":o[2]||(o[2]=e=>r.expandedRows=e),selection:r.selectedRow,"onUpdate:selection":o[3]||(o[3]=e=>r.selectedRow=e),selectionMode:"single",sortMode:"multiple",dataKey:"id",onRowExpand:s.onRowExpand,onRowCollapse:s.onRowCollapse,tableStyle:"min-width: 60rem"},{header:(0,m.w5)((()=>[(0,m._)("div",ht,[(0,m._)("span",_t,[bt,(0,m.Wm)(i,{modelValue:r.filters["global"].value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filters["global"].value=e),placeholder:"Busca la clave"},null,8,["modelValue"])])])])),expansion:(0,m.w5)((e=>[(0,m._)("div",vt,[(0,m._)("h5",null,"Mas información "+(0,Z.zw)(e.data.Tipo),1),(0,m.Wm)(n,{value:[e.data]},{default:(0,m.w5)((()=>[(0,m.Wm)(l,{field:"Dia Semana",header:"Dia Semana"}),(0,m.Wm)(l,{field:"Notas",header:"Notas"}),(0,m.Wm)(l,{field:"Fotos",header:"Fotos"}),(0,m.Wm)(l,{field:"Cartel",header:"Cartel"}),(0,m.Wm)(l,{field:"Fecha Real",header:"Fecha Real"}),(0,m.Wm)(l,{field:"Fuente",header:"Fuente"})])),_:2},1032,["value"])])])),default:(0,m.w5)((()=>[(0,m.Wm)(l,{expander:"",style:{width:"5rem"}}),(0,m.Wm)(l,{field:"id",header:"ID"}),(0,m.Wm)(l,{field:"Lugar",sortable:"",header:"Lugar"}),(0,m.Wm)(l,{field:"Fecha",sortable:"",header:"Fecha"}),(0,m.Wm)(l,{field:"Tipo",sortable:"",header:"Tipo"}),(0,m.Wm)(l,{field:"Ganaderia",header:"Ganaderia"}),(0,m.Wm)(l,{field:"Toreros",header:"Toreros"})])),_:1},8,["value","filters","expandedRows","selection","onRowExpand","onRowCollapse"]),(0,m.Wm)(d)])}var yt=a(3591),Rt=a(3717),Dt=a(6823),Ft=a(2724),St=a(3435),Tt=a(6709),jt={name:"OldDbTable",components:{DataTable:yt.Z,Column:Rt.Z,Toast:Dt.Z,InputText:Tt.Z},data(){const e=Re(),o=[],a=(0,ye.Xl)((0,St.p)()),t={},r={global:{value:null,matchMode:Ft.a6.CONTAINS}};return{dataDeposit:e,expandedRows:o,toast:a,selectedRow:t,filters:r}},methods:{onRowExpand(e){this.toast.add({severity:"info",summary:"Producto Expandido",detail:e.data.name,life:3e3})},onRowCollapse(e){this.toast.add({severity:"success",summary:"Product Colapsado",detail:e.data.name,life:3e3})},expandAll(){this.expandedRows.value=this.products.value.filter((e=>e.id))},collapseAll(){this.expandedRows.value=null}}};const xt=(0,w.Z)(jt,[["render",gt]]);var Wt=xt;const Vt={class:"card"},Nt={class:"flex justify-content-start"},Ut={class:"p-input-icon-right"},Pt=(0,m._)("i",{class:"pi pi-search"},null,-1),kt={class:"p-3"};function At(e,o,a,t,r,s){const i=(0,m.up)("Button"),l=(0,m.up)("InputText"),n=(0,m.up)("Column"),d=(0,m.up)("DataTable"),c=(0,m.up)("Toast");return(0,m.wg)(),(0,m.iD)("div",Vt,[(0,m.Wm)(d,{value:r.dataDeposit.newDbData.data,paginator:"",rows:50,rowsPerPageOptions:[50,100,500],filters:r.filters,"onUpdate:filters":o[1]||(o[1]=e=>r.filters=e),expandedRows:r.expandedRows,"onUpdate:expandedRows":o[2]||(o[2]=e=>r.expandedRows=e),selection:r.selectedRow,"onUpdate:selection":o[3]||(o[3]=e=>r.selectedRow=e),selectionMode:"single",sortMode:"multiple",dataKey:"id",onRowExpand:s.onRowExpand,onRowCollapse:s.onRowCollapse,tableStyle:"min-width: 60rem"},{header:(0,m.w5)((()=>[(0,m._)("div",Nt,[(0,m.Wm)(i,{label:"Copiar Fila",icon:"pi pi-copy",severity:"success",disabled:!Object.keys(r.selectedRow).length,class:"mr-5"},null,8,["disabled"]),(0,m._)("span",Ut,[Pt,(0,m.Wm)(l,{modelValue:r.filters["global"].value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filters["global"].value=e),placeholder:"Busca la clave"},null,8,["modelValue"])])])])),expansion:(0,m.w5)((e=>[(0,m._)("div",kt,[(0,m._)("h5",null,"Mas información "+(0,Z.zw)(e.data.Tipo),1),(0,m.Wm)(d,{value:[e.data]},{default:(0,m.w5)((()=>[(0,m.Wm)(n,{field:"premios",header:"Premios"}),(0,m.Wm)(n,{field:"estados",header:"Estados"}),(0,m.Wm)(n,{field:"notas",header:"Notas"})])),_:2},1032,["value"])])])),default:(0,m.w5)((()=>[(0,m.Wm)(n,{expander:"",style:{width:"5rem"}}),(0,m.Wm)(n,{field:"id",header:"ID"}),(0,m.Wm)(n,{field:"poblacion",sortable:"",header:"Poblacion"}),(0,m.Wm)(n,{field:"fecha",sortable:"",header:"Fecha"}),(0,m.Wm)(n,{field:"nombre",sortable:"",header:"Festejo"}),(0,m.Wm)(n,{field:"ganaderias",header:"Ganaderias"}),(0,m.Wm)(n,{field:"toreros",header:"Toreros"})])),_:1},8,["value","filters","expandedRows","selection","onRowExpand","onRowCollapse"]),(0,m.Wm)(c)])}var It=a(1826),Ct={name:"NewDbTable",components:{DataTable:yt.Z,Column:Rt.Z,Toast:Dt.Z,Button:It.Z,InputText:Tt.Z},data(){const e=Re(),o=[],a=(0,ye.Xl)((0,St.p)()),t={},r={global:{value:null,matchMode:Ft.a6.CONTAINS}};return{dataDeposit:e,expandedRows:o,toast:a,selectedRow:t,filters:r}},methods:{onRowExpand(e){this.toast.add({severity:"info",summary:"Producto Expandido",detail:e.data.name,life:3e3})},onRowCollapse(e){this.toast.add({severity:"success",summary:"Product Colapsado",detail:e.data.name,life:3e3})}}};const Zt=(0,w.Z)(Ct,[["render",At]]);var Ot=Zt;const $t={class:"card"},qt={class:"flex justify-content-start"},Bt={class:"p-input-icon-right"},Et=(0,m._)("i",{class:"pi pi-search"},null,-1);function Gt(e,o,a,t,r,s){const i=(0,m.up)("Button"),l=(0,m.up)("InputText"),n=(0,m.up)("Column"),d=(0,m.up)("DataTable"),c=(0,m.up)("Toast");return(0,m.wg)(),(0,m.iD)("div",$t,[(0,m.Wm)(d,{value:r.dataDeposit.ganaderiaItems.data,paginator:"",rows:50,rowsPerPageOptions:[50,100,500],filters:r.filters,"onUpdate:filters":o[1]||(o[1]=e=>r.filters=e),selection:r.selectedRow,"onUpdate:selection":o[2]||(o[2]=e=>r.selectedRow=e),selectionMode:"single",sortMode:"multiple",dataKey:"id",tableStyle:"min-width: 60rem"},{header:(0,m.w5)((()=>[(0,m._)("div",qt,[(0,m.Wm)(i,{label:"Copiar Fila",icon:"pi pi-copy",severity:"success",disabled:!Object.keys(r.selectedRow).length,onClick:s.copyRow,class:"mr-5"},null,8,["disabled","onClick"]),(0,m._)("span",Bt,[Et,(0,m.Wm)(l,{modelValue:r.filters["global"].value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filters["global"].value=e),placeholder:"Busca la clave"},null,8,["modelValue"])])])])),default:(0,m.w5)((()=>[(0,m.Wm)(n,{field:"id",header:"Ganaderia ID"}),(0,m.Wm)(n,{field:"nombre_ganaderia",sortable:"",header:"Ganaderia"}),(0,m.Wm)(n,{field:"provincia",sortable:"",header:"Provincia"}),(0,m.Wm)(n,{field:"provincia_id",sortable:"",header:"Provincia ID"})])),_:1},8,["value","filters","selection"]),(0,m.Wm)(c)])}var Mt={name:"GanaderiasTable",components:{DataTable:yt.Z,Column:Rt.Z,Toast:Dt.Z,Button:It.Z,InputText:Tt.Z},data(){const e=Re(),o=Qe(),a=(0,ye.Xl)((0,St.p)()),t={},r={global:{value:null,matchMode:Ft.a6.CONTAINS}};return{dataDeposit:e,ganaderiaStore:o,toast:a,selectedRow:t,filters:r}},methods:{async copyRow(){this.ganaderiaStore.rows[0].id=this.selectedRow.id,this.ganaderiaStore.rows[0].nombre_ganaderia=this.selectedRow.nombre_ganaderia,this.ganaderiaStore.rows[0].provincia_id=this.selectedRow.provincia_id,await this.$vueAlert.alert("La ganadería '"+this.selectedRow.nombre_ganaderia+"' ha sido copiada","success")}}};const Ht=(0,w.Z)(Mt,[["render",Gt]]);var zt=Ht;const Yt={class:"card"},Kt={class:"flex justify-content-start"},Lt={class:"p-input-icon-right"},Xt=(0,m._)("i",{class:"pi pi-search"},null,-1);function Jt(e,o,a,t,r,s){const i=(0,m.up)("Button"),l=(0,m.up)("InputText"),n=(0,m.up)("Column"),d=(0,m.up)("DataTable"),c=(0,m.up)("Toast");return(0,m.wg)(),(0,m.iD)("div",Yt,[(0,m.Wm)(d,{value:r.dataDeposit.toreroItems.data,paginator:"",rows:50,rowsPerPageOptions:[50,100,500],filters:r.filters,"onUpdate:filters":o[1]||(o[1]=e=>r.filters=e),selection:r.selectedRow,"onUpdate:selection":o[2]||(o[2]=e=>r.selectedRow=e),selectionMode:"single",sortMode:"multiple",dataKey:"id",tableStyle:"min-width: 60rem"},{header:(0,m.w5)((()=>[(0,m._)("div",Kt,[(0,m.Wm)(i,{label:"Copiar Fila",icon:"pi pi-copy",severity:"success",disabled:!Object.keys(r.selectedRow).length,onClick:s.copyRow,class:"mr-5"},null,8,["disabled","onClick"]),(0,m._)("span",Lt,[Xt,(0,m.Wm)(l,{modelValue:r.filters["global"].value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filters["global"].value=e),placeholder:"Busca la clave"},null,8,["modelValue"])])])])),default:(0,m.w5)((()=>[(0,m.Wm)(n,{field:"id",header:"Toero ID"}),(0,m.Wm)(n,{field:"nombre",sortable:"",header:"Nombre"}),(0,m.Wm)(n,{field:"apellidos",sortable:"",header:"Apellidos"}),(0,m.Wm)(n,{field:"apodo",sortable:"",header:"Apodo"}),(0,m.Wm)(n,{field:"nombre_profesional",sortable:"",header:"Nombre Profesional"}),(0,m.Wm)(n,{field:"tipo_torero",sortable:"",header:"Tipo Torero"}),(0,m.Wm)(n,{field:"tipo_torero_id",sortable:"",header:"Tipo ID"})])),_:1},8,["value","filters","selection"]),(0,m.Wm)(c)])}var Qt={name:"TorerosTable",components:{DataTable:yt.Z,Column:Rt.Z,Toast:Dt.Z,Button:It.Z,InputText:Tt.Z},data(){const e=Re(),o=Fe(),a=(0,ye.Xl)((0,St.p)()),t={},r={global:{value:null,matchMode:Ft.a6.CONTAINS}};return{dataDeposit:e,toreroStore:o,toast:a,selectedRow:t,filters:r}},methods:{async copyRow(){this.toreroStore.rows[0].id=this.selectedRow.id,this.toreroStore.rows[0].nombre=this.selectedRow.nombre,this.toreroStore.rows[0].apellidos=this.selectedRow.apellidos,this.toreroStore.rows[0].apodo=this.selectedRow.apodo,this.toreroStore.rows[0].nombre_profesional=this.selectedRow.nombre_profesional,this.toreroStore.rows[0].tipo_torero_id=this.selectedRow.tipo_torero_id,await this.$vueAlert.alert("El torero '"+this.selectedRow.nombre_profesional+"' ha sido copiado","success")}}};const er=(0,w.Z)(Qt,[["render",Jt]]);var or=er,ar=a(7267),tr={name:"HomeView",components:{ToreroForm:je,GanaderiaForm:ao,FestejosForm:ut,TabView:pt.Z,TabPanel:wt.Z,OldDbTable:Wt,NewDbTable:Ot,GanaderiasTable:zt,TorerosTable:or,ProgressSpinner:ar.Z},data(){const e=Re(),o=1,a=[],t=0,r=[],s=!1;return{dataDeposit:e,selectedFestejo:o,tipoFestejos:a,selectedPoblacion:t,poblaciones:r,fetchingData:s}},async created(){this.fetchingData=!0,await this.dataDeposit.fetchAndStoreProvincias(),await this.dataDeposit.fetchAndTipoToreros();let e=await s.getDataFromTable(s.apiServerUrl+"/get_tipo_festejos");this.tipoFestejos=e.data,await this.dataDeposit.fetchAndStoreToreros(),await this.dataDeposit.fetchAndStoreGanaderias(),await this.dataDeposit.fetchAndStoreTipoPremios(),await this.dataDeposit.fetchAndStoreTipoEstados(),e=await s.getDataFromTable(s.apiServerUrl+"/get_poblaciones"),this.poblaciones=e.data,await this.dataDeposit.fetchAndStoreNewDbData(),await this.dataDeposit.fetchAndStoreOldDbData(),this.fetchingData=!1}};const rr=(0,w.Z)(tr,[["render",C]]);var sr=rr;const ir=[{path:"/",name:"home",component:sr}],lr=(0,b.p7)({history:(0,b.PO)("/"),routes:ir});var nr=lr;let dr=(0,c.ri)(_);dr.use(nr),dr.use(i.Z),dr.use(l.Z),dr.use(n.Z),dr.use((0,d.WB)()),dr.mount("#app"),dr.config.globalProperties.$vueAlert=i.Z}},o={};function a(t){var r=o[t];if(void 0!==r)return r.exports;var s=o[t]={exports:{}};return e[t].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(o,t,r,s){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],s=e[c][2];for(var l=!0,n=0;n<t.length;n++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](t[n])}))?t.splice(n--,1):(l=!1,s<i&&(i=s));if(l){e.splice(c--,1);var d=r();void 0!==d&&(o=d)}}return o}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,r,s]}}(),function(){a.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(o,{a:o}),o}}(),function(){a.d=function(e,o){for(var t in o)a.o(o,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(o){return 0===e[o]};var o=function(o,t){var r,s,i=t[0],l=t[1],n=t[2],d=0;if(i.some((function(o){return 0!==e[o]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(n)var c=n(a)}for(o&&o(t);d<i.length;d++)s=i[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(7446)}));t=a.O(t)})();
//# sourceMappingURL=app.66fb21d9.js.map